-- üß† Script ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡∏° + ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏´‡∏±‡∏™ + ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡∏°‡∏ñ‡∏≤‡∏ß‡∏£
-- üî• ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ c00kaha üî•

-- ‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏ß‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
local ownerKey = "12345"

-- ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
local Players = game:GetService("Players")
local Teams = game:GetService("Teams")
local DataStoreService = game:GetService("DataStoreService")
local teamStore = DataStoreService:GetDataStore("SavedTeams")

local player = Players.LocalPlayer

-- üß± GUI ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏ô Studio)
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local TeamBox = Instance.new("TextBox")
local ChangeButton = Instance.new("TextButton")
local PasswordBox = Instance.new("TextBox")
local ConfirmButton = Instance.new("TextButton")

ScreenGui.Name = "TeamGUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = player:WaitForChild("PlayerGui")

-- GUI ‡∏´‡∏•‡∏±‡∏Å (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡∏°)
Frame.Size = UDim2.new(0, 250, 0, 150)
Frame.Position = UDim2.new(0.5, -125, 0.5, -75)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true
Frame.Visible = false
Frame.Parent = ScreenGui

Title.Size = UDim2.new(1, 0, 0, 25)
Title.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
Title.Text = "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡∏° (By c00kaha)"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Parent = Frame

TeamBox.PlaceholderText = "‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°..."
TeamBox.Size = UDim2.new(1, -20, 0, 30)
TeamBox.Position = UDim2.new(0, 10, 0, 40)
TeamBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TeamBox.TextColor3 = Color3.new(0, 0, 0)
TeamBox.Parent = Frame

ChangeButton.Text = "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡∏°"
ChangeButton.Size = UDim2.new(1, -20, 0, 30)
ChangeButton.Position = UDim2.new(0, 10, 0, 80)
ChangeButton.BackgroundColor3 = Color3.fromRGB(0, 100, 255)
ChangeButton.TextColor3 = Color3.new(1, 1, 1)
ChangeButton.Parent = Frame

-- ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ GUI
PasswordBox.PlaceholderText = "‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™..."
PasswordBox.Size = UDim2.new(0, 200, 0, 30)
PasswordBox.Position = UDim2.new(0.5, -100, 0.5, -15)
PasswordBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
PasswordBox.TextColor3 = Color3.new(0, 0, 0)
PasswordBox.Parent = ScreenGui

ConfirmButton.Text = "‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô"
ConfirmButton.Size = UDim2.new(0, 200, 0, 30)
ConfirmButton.Position = UDim2.new(0.5, -100, 0.5, 25)
ConfirmButton.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
ConfirmButton.TextColor3 = Color3.new(1, 1, 1)
ConfirmButton.Parent = ScreenGui

-- ‚úÖ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
ConfirmButton.MouseButton1Click:Connect(function()
	if PasswordBox.Text == ownerKey then
		PasswordBox.Visible = false
		ConfirmButton.Visible = false
		Frame.Visible = true
	else
		PasswordBox.Text = "‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏¥‡∏î!"
	end
end)

-- üîÑ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡∏° (‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å)
ChangeButton.MouseButton1Click:Connect(function()
	local teamName = TeamBox.Text
	if Teams:FindFirstChild(teamName) then
		player.Team = Teams[teamName]
		player.TeamColor = Teams[teamName].TeamColor
		TeamBox.Text = "‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏µ‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!"
		
		-- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡∏°‡πÉ‡∏ô DataStore ‡∏ú‡πà‡∏≤‡∏ô RemoteEvent
		game.ReplicatedStorage.SaveTeam:FireServer(teamName)
	else
		TeamBox.Text = "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ó‡∏µ‡∏°‡∏ô‡∏µ‡πâ!"
	end
end)

-- üõ∞Ô∏è ‡∏™‡∏£‡πâ‡∏≤‡∏á RemoteEvent ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏µ‡∏° (‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡πÅ‡∏°‡∏û)
if not game.ReplicatedStorage:FindFirstChild("SaveTeam") then
	local ev = Instance.new("RemoteEvent")
	ev.Name = "SaveTeam"
	ev.Parent = game.ReplicatedStorage
end

-- üîß ‡∏ù‡∏±‡πà‡∏á Server ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ DataStore
if game:GetService("RunService"):IsServer() then
	game.ReplicatedStorage.SaveTeam.OnServerEvent:Connect(function(plr, teamName)
		pcall(function()
			teamStore:SetAsync(plr.UserId, teamName)
		end)
	end)

	Players.PlayerAdded:Connect(function(plr)
		pcall(function()
			local savedTeam = teamStore:GetAsync(plr.UserId)
			if savedTeam and Teams:FindFirstChild(savedTeam) then
				plr.Team = Teams[savedTeam]
				plr.TeamColor = Teams[savedTeam].TeamColor
			end
		end)
	end)
end
