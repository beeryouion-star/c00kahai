local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp = character:WaitForChild("HumanoidRootPart")
local humanoid = character:WaitForChild("Humanoid")

humanoid.WalkSpeed = 50

local radius = 10
local speed = 5
local center = hrp.Position
local angle = 0
local active = true

local screenGui = Instance.new("ScreenGui")
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 200, 0, 180)
frame.Position = UDim2.new(0.5, -100, 0.5, -90)
frame.BackgroundColor3 = Color3.fromRGB(50,50,50)
frame.Active = true
frame.Draggable = true
frame.Parent = screenGui

local toggleGuiBtn = Instance.new("TextButton")
toggleGuiBtn.Size = UDim2.new(0, 180, 0, 30)
toggleGuiBtn.Position = UDim2.new(0, 10, 0, 10)
toggleGuiBtn.Text = "Stop & Hide GUI"
toggleGuiBtn.Parent = frame

local radiusBox = Instance.new("TextBox")
radiusBox.Size = UDim2.new(0, 180, 0, 30)
radiusBox.Position = UDim2.new(0, 10, 0, 50)
radiusBox.PlaceholderText = "Radius"
radiusBox.Text = tostring(radius)
radiusBox.Parent = frame

local speedBox = Instance.new("TextBox")
speedBox.Size = UDim2.new(0, 180, 0, 30)
speedBox.Position = UDim2.new(0, 10, 0, 90)
speedBox.PlaceholderText = "Spin Speed"
speedBox.Text = tostring(speed)
speedBox.Parent = frame

local applyBtn = Instance.new("TextButton")
applyBtn.Size = UDim2.new(0, 180, 0, 30)
applyBtn.Position = UDim2.new(0, 10, 0, 130)
applyBtn.Text = "Apply Settings"
applyBtn.Parent = frame

local guiVisible = true
toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = not guiVisible
    frame.Visible = guiVisible
    if guiVisible then
        toggleGuiBtn.Text = "Stop & Hide GUI"
        radius = tonumber(radiusBox.Text) or radius
        speed = tonumber(speedBox.Text) or speed
        center = hrp.Position
        active = true
    else
        toggleGuiBtn.Text = "Start & Show GUI"
        active = false
    end
end)

applyBtn.MouseButton1Click:Connect(function()
    radius = tonumber(radiusBox.Text) or radius
    speed = tonumber(speedBox.Text) or speed
    center = hrp.Position
end)

RunService.Heartbeat:Connect(function(deltaTime)
    if active then
        angle = angle + speed * deltaTime
        local newX = center.X + math.cos(angle) * radius
        local newZ = center.Z + math.sin(angle) * radius
        local targetPos = Vector3.new(newX, hrp.Position.Y, newZ)
        humanoid:MoveTo(targetPos)
    end
end)
